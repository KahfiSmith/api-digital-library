@baseUrl = http://localhost:3001

### Login as admin (from seed)
POST {{baseUrl}}/api/v1/auth/login
Content-Type: application/json

{
  "identifier": "admin@digitallibrary.com",
  "password": "password123"
}

> {% 
// Save tokens from response for subsequent requests
try {
  if (response.status === 200) {
    const body = JSON.parse(response.body);
    const tokens = body?.data?.tokens || body?.tokens;
    if (tokens && tokens.accessToken && tokens.refreshToken) {
      client.global.set("accessToken", tokens.accessToken);
      client.global.set("refreshToken", tokens.refreshToken);
      client.log("Saved accessToken and refreshToken to globals");
    }
  }
} catch (e) {}
%}

### Current user (uses cookie or header)
GET {{baseUrl}}/api/v1/auth/me
Authorization: Bearer {{accessToken}}

