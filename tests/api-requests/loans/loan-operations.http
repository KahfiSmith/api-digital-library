### Book Loans - User Operations

@baseUrl = {{$dotenv API_BASE_URL}}
@token = {{$dotenv ACCESS_TOKEN}}
@token = {{token}}

###
### Get My Active Loans
GET {{baseUrl}}/loans/my-loans
Content-Type: application/json
Authorization: Bearer {{token}}

###
### Get My Loan History
GET {{baseUrl}}/loans/my-loans?status=all
Content-Type: application/json
Authorization: Bearer {{token}}

###
### Create New Book Loan (Borrow Book)
POST {{baseUrl}}/loans
Content-Type: application/json
Authorization: Bearer {{token}}

{
  "bookId": "660e8400-e29b-41d4-a716-446655440002"
}

###
### Get Loan Details
GET {{baseUrl}}/loans/770e8400-e29b-41d4-a716-446655440000
Content-Type: application/json
Authorization: Bearer {{token}}

###
### Return Book (End Loan)
PUT {{baseUrl}}/loans/770e8400-e29b-41d4-a716-446655440000/return
Content-Type: application/json
Authorization: Bearer {{token}}

###
### Renew Loan (Extend Due Date)
PUT {{baseUrl}}/loans/770e8400-e29b-41d4-a716-446655440000/renew
Content-Type: application/json
Authorization: Bearer {{token}}

{
  "extensionDays": 7
}

###
### Request Loan Extension
POST {{baseUrl}}/loans/770e8400-e29b-41d4-a716-446655440000/extension-request
Content-Type: application/json
Authorization: Bearer {{token}}

{
  "requestedDays": 14,
  "reason": "Need more time to finish reading"
}

###
### Get Overdue Loans
GET {{baseUrl}}/loans/my-loans?status=overdue
Content-Type: application/json
Authorization: Bearer {{token}}

###
### Check Book Availability for Loan
GET {{baseUrl}}/books/660e8400-e29b-41d4-a716-446655440002/availability
Content-Type: application/json

###
### Reserve Book (if not available)
POST {{baseUrl}}/loans/reserve
Content-Type: application/json
Authorization: Bearer {{token}}

{
  "bookId": "660e8400-e29b-41d4-a716-446655440002"
}

###
### Get My Reservations
GET {{baseUrl}}/loans/my-reservations
Content-Type: application/json
Authorization: Bearer {{token}}

###
### Cancel Reservation
DELETE {{baseUrl}}/loans/reservations/reservation-id-here
Authorization: Bearer {{token}}

###
### Try to Borrow Unavailable Book (Error Test)
POST {{baseUrl}}/loans
Content-Type: application/json
Authorization: Bearer {{token}}

{
  "bookId": "660e8400-e29b-41d4-a716-446655440003"
}

###
### Try to Borrow Non-existent Book (Error Test)
POST {{baseUrl}}/loans
Content-Type: application/json
Authorization: Bearer {{token}}

{
  "bookId": "invalid-book-id"
}

###
### Try Loan Operation without Authentication (Error Test)
POST {{baseUrl}}/loans
Content-Type: application/json

{
  "bookId": "660e8400-e29b-41d4-a716-446655440002"
}
